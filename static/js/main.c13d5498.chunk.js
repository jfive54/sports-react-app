(this["webpackJsonpsports-react-app"]=this["webpackJsonpsports-react-app"]||[]).push([[0],{21:function(t){t.exports=JSON.parse('{"TREND_API_URL":"https://europe-west1-possible-coast-332118.cloudfunctions.net/trend/","SPORT_LIST_URL":"https://sports.api.decathlon.com/sports"}')},54:function(t,e,n){},60:function(t,e,n){},82:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=n(44),c=n.n(s),i=(n(54),n(55),n(56),n(57),n(58),n(59),n(60),n(46)),l=n(7),o=n(8),d=n(20),u=n(11),j=n(10),h=n(9),v=n(21),b=n(47),m=n(13),p=n(2),f=function(t){var e=t.data,n=t.sport,a=e.filter((function(t){return t.x.match(/Jan/g)})).map((function(t){return t.x}));return Object(p.jsx)("div",{id:"panel-".concat(n),children:Object(p.jsxs)(m.d,{width:1e3,height:300,xType:"ordinal",children:[Object(p.jsx)(m.a,{}),Object(p.jsx)(m.b,{data:e}),Object(p.jsx)(m.c,{tickValues:a}),Object(p.jsx)(m.e,{})]})})},x=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={data:[],loaded:!1},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("".concat(v.TREND_API_URL).concat(this.props.sport),{credentials:"same-origin"}).then((function(t){return t.json()})).then((function(e){var n=e.trends.map((function(t){return{x:t.formattedTime,y:t.value}}));t.setState({data:n,loaded:!0})})).catch(console.log)}},{key:"render",value:function(){return this.state.loaded?this.state.data.length>0?Object(p.jsx)(f,{data:this.state.data,sport:this.props.sport}):Object(p.jsx)("div",{class:"vtmn-alert vtmn-alert_variant--warning",children:Object(p.jsx)("div",{class:"vtmn-alert_content",children:Object(p.jsx)("span",{class:"vtmn-alert_content-description",children:"Aucunes donn\xe9es"})})}):Object(p.jsx)(h.b,{})}}]),n}(r.a.Component),O=function(t){var e=t.sport,n=Object(a.useState)(!1),r=Object(b.a)(n,2),s=r[0],c=r[1];return Object(p.jsxs)("div",{className:"vtmn-card my-card",children:[Object(p.jsxs)("div",{class:"card-title",children:[Object(p.jsx)("h4",{onClick:function(){return c(!s)},className:"question-title",children:e}),Object(p.jsx)("div",{children:Object(p.jsx)(h.a,{onClick:function(){return c(!s)},iconRight:s?"arrow-up-line":"arrow-down-line",size:"small",variant:"tertiary","aria-label":s?"Masquer les trends":"Afficher les trends","aria-expanded":s,"aria-controls":"panel-".concat(e),children:s?Object(p.jsx)("span",{children:"Masquer"}):Object(p.jsx)("span",{children:"Afficher"})})})]}),s&&Object(p.jsx)(x,{sport:e})]})},g=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)("ul",{children:this.props.items.map((function(t){return Object(p.jsx)(O,{sport:t.attributes.name},t.id)}))})}}]),n}(r.a.Component),y=g,k=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={items:[],filterItems:[],text:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"vtmn-flex vtmn-bg-brand-digital-light-3 vtmn-rounded-lg vtmn-p-6 vtmn-mb-5",children:Object(p.jsxs)("p",{className:"vtmn-text-xl vtmn-text-center vtmn-font-semibold vtmn-text-black",children:["Sport",Object(p.jsxs)("span",{className:"vtmn-text-brand-digital vtmn-text-2xl",children:["Trend ",Object(p.jsx)("span",{className:"vtmx-temp-hot-line inline-icon"})]})]})}),Object(p.jsx)("div",{className:"vtmn-flex vtmn-justify-around",children:Object(p.jsx)("div",{children:Object(p.jsx)(h.c,{labelText:"Filtrer",onChange:this.handleChange,identifier:"filter",helperText:"Filtrer les sports"})})}),Object(p.jsx)("div",{className:"vtmn-flex vtmn-justify-around",children:Object(p.jsx)(y,{items:this.state.filterItems})})]})}},{key:"componentDidMount",value:function(){var t=this;fetch(v.SPORT_LIST_URL).then((function(t){return t.json()})).then((function(e){var n=e.data;t.setState({items:n,filterItems:t.sortData(n)})})).catch(console.log)}},{key:"sortData",value:function(t){return t.sort((function(t,e){var n,a,r;return(null===(n=t.attributes)||void 0===n?void 0:n.name)>(null===(a=e.attributes)||void 0===a?void 0:a.name)?1:e>(null===(r=t.attributes)||void 0===r?void 0:r.name)?-1:0}))}},{key:"cleanSearch",value:function(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase()}},{key:"handleChange",value:function(t){var e=this,n=Object(i.a)(this.state.items).filter((function(n){var a,r;return e.cleanSearch(null!==(a=null===(r=n.attributes)||void 0===r?void 0:r.name)&&void 0!==a?a:"").includes(e.cleanSearch(t.target.value))}));this.setState({text:t.target.value,filterItems:this.sortData(n)})}}]),n}(r.a.Component);var S=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(k,{})})};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.c13d5498.chunk.js.map