{"version":3,"sources":["components/Chart.js","components/WithDataChart.js","components/Sport.js","components/Sports.js","components/SportTrend.js","App.js","index.js"],"names":["Chart","data","sport","tickValues","filter","x","match","map","id","width","height","xType","WithDataChart","props","state","loaded","fetch","configData","TREND_API_URL","this","credentials","then","res","json","myData","trends","monthlyTrend","formattedTime","y","value","setState","catch","console","log","length","class","React","Component","Sport","useState","expanded","setExpanded","className","onClick","iconRight","size","variant","Sports","items","item","attributes","name","SportList","filterItems","text","handleChange","bind","labelText","onChange","identifier","helperText","SPORT_LIST_URL","sortData","sort","a","b","search","normalize","replace","toUpperCase","e","cleanSearch","includes","target","App","SportTrend","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c13d5498.chunk.js","sourcesContent":["import {\n  XYPlot,\n  XAxis,\n  YAxis,\n  HorizontalGridLines,\n  LineSeries,\n} from \"react-vis\";\n\nconst Chart = ({ data, sport }) => {\n  // get only january labels\n  const tickValues = data.filter(({ x }) => x.match(/Jan/g)).map(({ x }) => x);\n  return (\n    <div id={`panel-${sport}`}>\n      <XYPlot width={1000} height={300} xType=\"ordinal\">\n        <HorizontalGridLines />\n        <LineSeries data={data} />\n        <XAxis tickValues={tickValues} />\n        <YAxis />\n      </XYPlot>\n    </div>\n  );\n};\n\nexport default Chart;\n","import React from \"react\";\n\nimport { VtmnLoader } from \"@vtmn/react\";\n\nimport configData from \"../config.json\";\nimport Chart from \"./Chart\";\n\nclass WithDataChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { data: [], loaded: false };\n  }\n\n  componentDidMount() {\n    fetch(`${configData.TREND_API_URL}${this.props.sport}`, {\n      credentials: \"same-origin\",\n    })\n      .then((res) => {\n        return res.json();\n      })\n      .then((data) => {\n        const myData = data.trends.map((monthlyTrend) => ({\n          x: monthlyTrend.formattedTime,\n          y: monthlyTrend.value,\n        }));\n        this.setState({ data: myData, loaded: true });\n      })\n      .catch(console.log);\n  }\n  render() {\n    return this.state.loaded ? (\n      this.state.data.length > 0 ? (\n        <Chart data={this.state.data} sport={this.props.sport} />\n      ) : (\n        <div class=\"vtmn-alert vtmn-alert_variant--warning\">\n          <div class=\"vtmn-alert_content\">\n            <span class=\"vtmn-alert_content-description\">Aucunes donn√©es</span>\n          </div>\n        </div>\n      )\n    ) : (\n      <VtmnLoader />\n    );\n  }\n}\n\nexport default WithDataChart;\n","import React, { useState } from \"react\";\n\nimport { VtmnButton } from \"@vtmn/react\";\n\nimport WithDataChart from \"./WithDataChart\";\n\nconst Sport = ({ sport }) => {\n  const [expanded, setExpanded] = useState(false);\n\n  return (\n    <div className=\"vtmn-card my-card\">\n      <div class=\"card-title\">\n        <h4 onClick={() => setExpanded(!expanded)} className=\"question-title\">\n          {sport}\n        </h4>\n        <div>\n          <VtmnButton\n            onClick={() => setExpanded(!expanded)}\n            iconRight={expanded ? \"arrow-up-line\" : \"arrow-down-line\"}\n            size=\"small\"\n            variant=\"tertiary\"\n            aria-label={expanded ? \"Masquer les trends\" : \"Afficher les trends\"}\n            aria-expanded={expanded}\n            aria-controls={`panel-${sport}`}\n          >\n            {expanded ? <span>Masquer</span> : <span>Afficher</span>}\n          </VtmnButton>\n        </div>\n      </div>\n      {expanded && <WithDataChart sport={sport} />}\n    </div>\n  );\n};\n\nexport default Sport;\n","import React from \"react\";\n\nimport Sport from \"./Sport\";\n\nclass Sports extends React.Component {\n  render() {\n    return (\n      <ul>\n        {this.props.items.map((item) => (\n          <Sport key={item.id} sport={item.attributes.name} />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default Sports;\n","import React from \"react\";\n\nimport { VtmnTextInput } from \"@vtmn/react\";\n\nimport configData from \"../config.json\";\nimport Sports from \"./Sports\";\n\nclass SportList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { items: [], filterItems: [], text: \"\" };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"vtmn-flex vtmn-bg-brand-digital-light-3 vtmn-rounded-lg vtmn-p-6 vtmn-mb-5\">\n          <p className=\"vtmn-text-xl vtmn-text-center vtmn-font-semibold vtmn-text-black\">\n            Sport\n            <span className=\"vtmn-text-brand-digital vtmn-text-2xl\">\n              Trend <span className=\"vtmx-temp-hot-line inline-icon\"></span>\n            </span>\n          </p>\n        </div>\n        <div className=\"vtmn-flex vtmn-justify-around\">\n          <div>\n            <VtmnTextInput\n              labelText=\"Filtrer\"\n              onChange={this.handleChange}\n              identifier=\"filter\"\n              helperText=\"Filtrer les sports\"\n            />\n          </div>\n        </div>\n        <div className=\"vtmn-flex vtmn-justify-around\">\n          <Sports items={this.state.filterItems} />\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    fetch(configData.SPORT_LIST_URL)\n      .then((res) => {\n        return res.json();\n      })\n      .then(({ data }) => {\n        this.setState({ items: data, filterItems: this.sortData(data) });\n      })\n      .catch(console.log);\n  }\n\n  sortData(data) {\n    return data.sort((a, b) =>\n      a.attributes?.name > b.attributes?.name\n        ? 1\n        : b > a.attributes?.name\n        ? -1\n        : 0\n    );\n  }\n\n  cleanSearch(search) {\n    return search\n      .normalize(\"NFD\")\n      .replace(/[\\u0300-\\u036f]/g, \"\")\n      .toUpperCase();\n  }\n\n  handleChange(e) {\n    let itemsCopy = [...this.state.items];\n    const filterItems = itemsCopy.filter((sport) =>\n      this.cleanSearch(sport.attributes?.name ?? \"\").includes(\n        this.cleanSearch(e.target.value)\n      )\n    );\n\n    this.setState({\n      text: e.target.value,\n      filterItems: this.sortData(filterItems),\n    });\n  }\n}\n\nexport default SportList;\n","import \"@vtmn/css/dist/index.css\";\nimport \"@vtmn/icons/dist/vitamix/font/vitamix.css\";\nimport \"@vtmn/css-text-input/dist/index.css\";\n\nimport \"typeface-roboto\";\nimport \"typeface-roboto-condensed\";\n\nimport \"./App.css\";\nimport SportTrend from \"./components/SportTrend\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SportTrend></SportTrend>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}