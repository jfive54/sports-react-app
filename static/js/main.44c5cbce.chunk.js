(this["webpackJsonpsports-react-app"]=this["webpackJsonpsports-react-app"]||[]).push([[0],{21:function(t){t.exports=JSON.parse('{"TREND_API_URL":"https://europe-west1-possible-coast-332118.cloudfunctions.net/trend/","SPORT_LIST_URL":"https://sports.api.decathlon.com/sports"}')},56:function(t,e,n){},62:function(t,e,n){},85:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=n(45),c=n.n(s),i=(n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(48)),l=n(32),o=n.n(l),u=n(46),d=n(7),j=n(8),h=n(20),v=n(11),b=n(10),m=n(9),p=n(21),f=n(49),x=n(13),O=n(2),g=function(t){var e=t.data,n=t.sport,a=e.filter((function(t){return t.x.match(/Jan/g)})).map((function(t){return t.x}));return Object(O.jsx)("div",{id:"panel-".concat(n),children:Object(O.jsxs)(x.d,{width:1e3,height:300,xType:"ordinal",children:[Object(O.jsx)(x.a,{}),Object(O.jsx)(x.b,{data:e}),Object(O.jsx)(x.c,{tickValues:a}),Object(O.jsx)(x.e,{})]})})},y=function(t){Object(v.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).state={data:[],loaded:!1},a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("".concat(p.TREND_API_URL).concat(this.props.sport),{credentials:"same-origin"}).then((function(t){return t.json()})).then((function(e){var n=e.trends.map((function(t){return{x:t.formattedTime,y:t.value}}));t.setState({data:n,loaded:!0})})).catch(console.log)}},{key:"render",value:function(){return this.state.loaded?this.state.data.length>0?Object(O.jsx)(g,{data:this.state.data,sport:this.props.sport}):Object(O.jsx)("div",{className:"vtmn-alert vtmn-alert_variant--warning",children:Object(O.jsx)("div",{className:"vtmn-alert_content",children:Object(O.jsx)("span",{className:"vtmn-alert_content-description",children:"Aucunes donn\xe9es"})})}):Object(O.jsx)(m.b,{})}}]),n}(r.a.Component),N=function(t){var e=t.sport,n=Object(a.useState)(!1),r=Object(f.a)(n,2),s=r[0],c=r[1];return Object(O.jsxs)("div",{className:"vtmn-card my-card",children:[Object(O.jsxs)("div",{className:"card-title",children:[Object(O.jsx)("h4",{onClick:function(){return c(!s)},className:"question-title",children:e}),Object(O.jsx)("div",{children:Object(O.jsx)(m.a,{onClick:function(){return c(!s)},iconRight:s?"arrow-up-line":"arrow-down-line",size:"small",variant:"tertiary","aria-label":s?"Masquer les trends":"Afficher les trends","aria-expanded":s,"aria-controls":"panel-".concat(e),children:s?Object(O.jsx)("span",{children:"Masquer"}):Object(O.jsx)("span",{children:"Afficher"})})})]}),s&&Object(O.jsx)(y,{sport:e})]})},k=function(t){Object(v.a)(n,t);var e=Object(b.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(O.jsx)("ul",{children:this.props.items.map((function(t){return Object(O.jsx)(N,{sport:t.attributes.name},t.id)}))})}}]),n}(r.a.Component),S=k,C=function(t){Object(v.a)(n,t);var e=Object(b.a)(n);function n(t){var a;return Object(d.a)(this,n),(a=e.call(this,t)).state={items:[],filterItems:[],text:""},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(p.SPORT_LIST_URL).then((function(t){return t.json()}));case 2:e=t.sent,n=e.data,this.setState({items:n,filterItems:this.sortData(n)});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sortData",value:function(t){return t.sort((function(t,e){var n,a,r,s;return(null===(n=t.attributes)||void 0===n?void 0:n.name)>(null===(a=e.attributes)||void 0===a?void 0:a.name)?1:(null===(r=e.attributes)||void 0===r?void 0:r.name)>(null===(s=t.attributes)||void 0===s?void 0:s.name)?-1:0}))}},{key:"cleanSearch",value:function(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase()}},{key:"handleChange",value:function(t){var e=this,n=Object(i.a)(this.state.items).filter((function(n){var a,r;return e.cleanSearch(null!==(a=null===(r=n.attributes)||void 0===r?void 0:r.name)&&void 0!==a?a:"").includes(e.cleanSearch(t.target.value))}));this.setState({text:t.target.value,filterItems:this.sortData(n)})}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"vtmn-flex vtmn-bg-brand-digital-light-3 vtmn-rounded-lg vtmn-p-6 vtmn-mb-5",children:Object(O.jsxs)("p",{className:"vtmn-text-xl vtmn-text-center vtmn-font-semibold vtmn-text-black",children:["Sport",Object(O.jsxs)("span",{className:"vtmn-text-brand-digital vtmn-text-2xl",children:["Trend ",Object(O.jsx)("span",{className:"vtmx-temp-hot-line inline-icon"})]})]})}),Object(O.jsx)("div",{className:"vtmn-flex vtmn-justify-around",children:Object(O.jsx)("div",{children:Object(O.jsx)(m.c,{labelText:"Filtrer",onChange:this.handleChange,identifier:"filter",helperText:"Filtrer les sports"})})}),Object(O.jsx)("div",{className:"vtmn-flex vtmn-justify-around",children:Object(O.jsx)(S,{items:this.state.filterItems})})]})}}]),n}(r.a.Component),T=C;var _=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(T,{})})};c.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(_,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.44c5cbce.chunk.js.map